# Chitchatter Environment Configuration Example
# Copy this file to .env and update the values as needed

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API Base URL (Development only)
# This overrides the default API endpoint used by the frontend
#
# SCENARIOS:
# 1. Using "npm run dev" (default): Leave commented out
#    - Vite proxy forwards /api requests to localhost:3001 (API server)
#
# 2. Using simple API server: Uncomment and set to http://localhost:3003
#    - First run: node simple-api-server.js
#    - Then run: npm start (with VITE_API_BASE_URL set)
#
# 3. Custom API server: Set to your custom server URL
#
# VITE_API_BASE_URL=http://localhost:3001
# VITE_API_BASE_URL=http://localhost:3003
# VITE_API_BASE_URL=https://baddalink-stun-api-bd.md-wasif-faisal.workers.dev

# RTC Config API Endpoint (Frontend Configuration)
# The API endpoint path used to fetch TURN server configuration
# Defaults to /api/get-config if not specified
#
# IMPORTANT: This environment variable controls whether the "Enhanced Connectivity"
# feature is available to users in the Settings page:
#
# - SET: Users see a "Networking" section with Enhanced Connectivity toggle
# - NOT SET: Feature is hidden and permanently disabled (uses fallback TURN only)
#
# This conditional behavior prevents confusion for self-hosters who don't have
# external TURN server configuration available.
#
# Examples:
# VITE_RTC_CONFIG_ENDPOINT=/api/get-config

# STUN Optimizer Service URL
# The Cloudflare Worker URL used for STUN server optimization
# This service tests and ranks STUN servers by performance
VITE_STUN_OPTIMIZER_URL=https://stun-optimizer.md-wasif-faisal.workers.dev

# Tracker Optimizer Service URL
# The Cloudflare Worker URL used for WebTorrent tracker optimization
# This service tests and ranks tracker servers by performance
VITE_TRACKER_OPTIMIZER_URL=https://tracker-optimizer.md-wasif-faisal.workers.dev

# VITE_RTC_CONFIG_ENDPOINT=/api/rtc-config
# VITE_RTC_CONFIG_ENDPOINT=/custom/turn-server-endpoint
#
# Uncomment to enable Enhanced Connectivity feature:
VITE_RTC_CONFIG_ENDPOINT=https://baddalink-stun-api-bd.md-wasif-faisal.workers.dev/api/get-config

# =============================================================================
# RTC CONFIGURATION (Production/Cloudflare)
# =============================================================================

# Base64-encoded JSON string containing RTCConfiguration
# This is used by the /api/get-config endpoint to provide STUN/TURN servers
#
# SECURITY IMPORTANT: Never commit real TURN server credentials to version control!
# Generate your own configuration with your own TURN server credentials.
#
# To create a base64 encoded config:
# 1. Use the helper script (RECOMMENDED):
#    npm run generate-rtc-config
#    Follow the prompts to configure your STUN/TURN servers
#    Copy the generated base64 string to replace the placeholder below
#
# 2. Manual creation (advanced users):
#    Create JSON: {"iceServers":[{"urls":"stun:stun.l.google.com:19302"}]}
#    Base64 encode: echo '{"iceServers":[...]}' | base64 -w 0
#    Set the result as RTC_CONFIG value
#
# Example with STUN server only:
# RTC_CONFIG=eyJpY2VTZXJ2ZXJzIjpbeyJ1cmxzIjoic3R1bjpzdHVuLmwuZ29vZ2xlLmNvbToxOTMwMiJ9XX0=
#
# Example with TURN server (replace with your own credentials):
# RTC_CONFIG=eyJpY2VTZXJ2ZXJzIjpbeyJ1cmxzIjoidHVybjp5b3VyLXR1cm4tc2VydmVyLmNvbTozNDc4IiwidXNlcm5hbWUiOiJ1c2VyIiwiY3JlZGVudGlhbCI6InBhc3MifV19
#
# If not set, the API will fall back to a default TURN server configuration.
# âœ… Xirsys TURN + Existing STUN Configuration
# This configuration includes your Xirsys TURN servers as fallback
# while keeping all existing STUN servers and optimization
RTC_CONFIG="eyJpY2VTZXJ2ZXJzIjpbeyJ1cmxzIjpbInN0dW46c3R1bi5jbG91ZGZsYXJlLmNvbTozNDc4Il19LHsidXJscyI6WyJzdHVuOnN0dW4ubC5nb29nbGUuY29tOjE5MzAyIl19LHsidXJscyI6WyJzdHVuOnN0dW4xLmwuZ29vZ2xlLmNvbToxOTMwMiJdfSx7InVybHMiOlsic3R1bjpzdHVuMi5sLmdvb2dsZS5jb206MTkzMDIiXX0seyJ1cmxzIjpbInN0dW46c3R1bi5zZXJ2aWNlcy5tb3ppbGxhLmNvbSJdfSx7InVybHMiOlsic3R1bjpibi10dXJuMi54aXJzeXMuY29tIl19LHsidXNlcm5hbWUiOiJuWjlxNkdVRFJYbElmel9MMkNoTjRnbjdZTGpLc1lqbUd0ZFpqVUhFNExEN19Ka0tUMXQ3OXZGODFJQnFBcExBQUFBQUFHal95bnAzWVhOcFptWmhhWE5oYkRJd01EST0iLCJjcmVkZW50aWFsIjoiYWQwNDRkYzYtYjM2Yy0xMWYwLWIzMDItMDI0MmFjMTQwMDA0IiwidXJscyI6WyJ0dXJuOmJuLXR1cm4yLnhpcnN5cy5jb206ODA/dHJhbnNwb3J0PXVkcCIsInR1cm46Ym4tdHVybjIueGlyc3lzLmNvbTozNDc4P3RyYW5zcG9ydD11ZHAiLCJ0dXJuOmJuLXR1cm4yLnhpcnN5cy5jb206ODA/dHJhbnNwb3J0PXRjcCIsInR1cm46Ym4tdHVybjIueGlyc3lzLmNvbTozNDc4P3RyYW5zcG9ydD10Y3AiLCJ0dXJuczpibi10dXJuMi54aXJzeXMuY29tOjQ0Mz90cmFuc3BvcnQ9dGNwIiwidHVybnM6Ym4tdHVybjIueGlyc3lzLmNvbTo1MzQ5P3RyYW5zcG9ydD10Y3AiXX1dfQ=="

# =============================================================================
# DEVELOPMENT SERVICES
# =============================================================================

# WebTorrent tracker URL for peer discovery in development
# Used by "npm run dev" - automatically started on port 8000
# VITE_TRACKER_URL=ws://localhost:8000

# StreamSaver service worker URL for file downloads in development
# Used by "npm run dev" - automatically started on port 3015
# VITE_STREAMSAVER_URL=http://localhost:3015/mitm.html

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Router Type (Development and Production)
# Specifies the type of router to use in the application.
#
# - "browser": (Default) Uses BrowserRouter, which requires server-side
#              configuration for single-page applications. It uses clean URLs,
#              but it allows the server to see the room name.
# - "hash":    Uses HashRouter, which uses the hash portion of the URL
#              (#) to keep UI in sync with the URL. This is useful for
#              static file servers or environments where server-side routing is
#              not available or desirable. This also prevents the server from
#              seeing the room name.
#
# VITE_ROUTER_TYPE=hash

# Homepage URL - typically set automatically by build scripts
# Override only if needed for custom deployments
# VITE_HOMEPAGE=https://chitchatter.im/

# GitHub Repository URL
# Used for linking to the project repository
VITE_GITHUB_REPO="https://github.com/jeremyckahn/chitchatter"
